<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.1.13" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>2019.01.02 - Retired: Cryptographic Verification: ‚¶óh0p3's Wiki‚¶ò ‚Äî ‚Äç ‚Äç ‚Äç‚Äç ‚Äç1.2.20191101 ñ°∂ 

 Readme

</title>
</head>
<body class="tc-body">

<section class="tc-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists   tc-tagged-Retired tc-tagged-Verify " data-tags="Retired Verify" data-tiddler-title="2019.01.02 - Retired: Cryptographic Verification"><div class="tc-tiddler-title">
<div class="tc-titlebar">
<span class="tc-tiddler-controls">
<span class=" tc-reveal"><button aria-label="more" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="More actions"></button><div class=" tc-reveal" hidden="true"></div></span><span class=" tc-reveal"><button aria-label="delete" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fdelete" title="Delete this tiddler">


</button></span><span class=" tc-reveal"><button aria-label="permalink" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fpermalink" title="Set browser address bar to a direct link to this tiddler"></button></span><span class=" tc-reveal"><span class=" tc-reveal"><button aria-label="info" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Finfo" title="Show information for this tiddler">
</button></span><span class=" tc-reveal" hidden="true"></span></span><span class=" tc-reveal"><span class=" tc-reveal" hidden="true"></span></span><span class=" tc-reveal"><button aria-label="new journal here" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fnew-journal-here" title="Create a new journal tiddler tagged with this one">





</button></span><span class=" tc-reveal"><button aria-label="close others" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose-others" title="Close other tiddlers"></button></span><span class=" tc-reveal"><button aria-label="edit" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="Edit this tiddler"></button></span><span class=" tc-reveal"><button aria-label="close" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="Close this tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span>
</span>

<a class="tc-tiddlylink tc-tiddlylink-resolves tc-popup-handle tc-popup-absolute" href="2019.01.02%2520-%2520Retired%253A%2520Cryptographic%2520Verification.html">

<span class="tc-tiddler-title-icon" style="fill:;">

</span>



<h2 class="tc-title">
2019.01.02 - Retired: Cryptographic Verification
</h2>

</a>

</div>

<div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div>
</div><div class=" tc-reveal" hidden="true"></div>
<div class=" tc-reveal">
<div class="tc-subtitle">
Edited: 2019.01.02 21:19
</div>
</div><div class=" tc-reveal">
<div class="tc-tags-wrapper"><span class="tc-tag-list-item">
<span class="tc-tag-label tc-btn-invisible" draggable="true" style="background-color:;
fill:#ffffff;
color:#ffffff;">
 Retired
</span>
<span class="tc-drop-down tc-reveal" hidden="true"></span></span><span class="tc-tag-list-item">
<span class="tc-tag-label tc-btn-invisible" draggable="true" style="background-color:;
fill:#ffffff;
color:#ffffff;">
 Verify
</span>
<span class="tc-drop-down tc-reveal" hidden="true"></span></span></div>
</div>

<div class="tc-tiddler-body tc-reveal"><p><em>See first: {<a class="tc-tiddlylink tc-tiddlylink-missing" href="Help%253A%2520On%2520this%2520Wiki.html">Help</a>} &amp; {<a class="tc-tiddlylink tc-tiddlylink-resolves" href="Ways%2520to%2520Connect%2520to%2520this%2520Wiki.html">Connect</a>}</em></p><hr><h2 class="">About:</h2><p><em>Even when we lack the political or social right, we each have <a class="tc-tiddlylink tc-tiddlylink-missing" href="the%2520Right.html">the Right</a> to speak and sign digital Navajo in most contexts. Escape your persecution, lose your chains, and be politically free when it morally matters. Exercise your rights or you will lose them. This political action page exists for those cornercases...</em></p><blockquote class="tc-quote"><p>We kill people based on metadata.</p><p>‚Äì Bruce Schneier, <em>Data and Goliath: The Hidden Battles to Collect Your Data and Control Your World</em>
</p></blockquote><blockquote class="tc-quote"><p>Cryptography shifts [to some <a class="tc-tiddlylink tc-tiddlylink-resolves tc-popup-handle tc-popup-absolute" href="dok.html">dok</a>] the balance of power from those with a monopoly on violence to those who comprehend mathematics and security design.</p><p>‚Äì Jacob Appelbaum 
</p></blockquote><blockquote class="tc-quote"><p>When cryptography is outlawed[, wherein only the outlaws have privacy,] bayl bhgynjf jvyy unir cevinpl.</p><p>‚Äì John Perry Barlow &amp; Phil Zimmermann
</p></blockquote><blockquote class="tc-quote"><p>Who dares not speak his free thoughts is a slave.</p><p>‚Äì Euripides, <em>The Phoenician Women</em>
</p></blockquote><p>Cryptography is not a mere symbol. In a surprising number of pragmatic contexts and eminently, immanently, or imminently possible timelines, cryptography offers low-hanging all-natural digital protection fruit which we are morally obligated to pick, use, and implement as citizens of Humanity constituting <a class="tc-tiddlylink tc-tiddlylink-resolves" href="The%2520Original%2520Position.html">The Original Position</a>. </p><p>Cryptography applied appropriately is a semi-automatically enforced cluster of Hohfeldian moral claim moral rights against your loved ones, friends, anons, skiddies, blackhats, dark-triads, transnational corporations, Big Brother, Capitalists, Peter Thiel, le ilerminaty, teh lizard wizards, aliens (who have almost paradoxically traveled at least near light speed but somehow lack quantum computers?), and a remarkable number of legitimate adversaries, which at times even includes ourselves.<button class="tc-btn-invisible tc-slider"><sup style="color:#66ff66">st</sup></button> </p><p>Like any tool or weapon, crypto can be a two-edged sword which cuts both ways. But, if you think I'm insane or evil for caring about this, then wisely consider KYS because you are demonstrably an evil person. I'm calling you out, tu puta madre! Pick at least one, you: selfishly indifferent, apathetic, abusively ignorant, reactionary, dark-triadic, &quot;patriot:&quot; <strong>Fuck you, malicious fool!</strong> It is your moral obligation to own your data and effectively decentralize power <a class="tc-tiddlylink tc-tiddlylink-resolves tc-popup-handle tc-popup-absolute" href="irwartfrr.html">irwartfrr</a>! The workers must own the means of production! You owe Humanity a profound contribution to that system.<button class="tc-btn-invisible tc-slider"><sup style="color:#66ff66">f</sup></button> Using cryptography correctly is a realpolitik behavioral vote for decentralizing power.</p><p>Official distributions of h0p3's Wiki include a checksum+signature file for verifying the integrity and authenticity of your copy. This verification file is updated for every published edit (nearly real-time, you may have to wait a minute for the cronjob and sync). With these files (and the right tools), you will be able to cryptographically verify the entire wiki, which is contained in a single html file (index.html). Let's hope this is never directly useful to us.<button class="tc-btn-invisible tc-slider"><sup style="color:#66ff66">n</sup></button></p><p>I previously used PGP (GnuPG as my last tool) to sign this wiki. PGP has to be one of the worst &quot;best in class&quot; toolsets I've ever used. I hate the software ecosystem, its unusability and incompatibility, as well as its poor logistics and social design. I've wasted far too many hours over almost two decades on that piece of shit. I'm moving on. </p><p>Instead, I'm attempting to cut out the middleman (fuck you, PGP) and more directly using the crypto library I actually trust. I now generate signatures through <a class="tc-tiddlylink-external" href="https://github.com/pyca/pynacl" rel="noopener noreferrer" target="_blank">PyNaCL</a> (hopefully correctly?), a gorgeous binding to the state of the art <a class="tc-tiddlylink-external" href="https://nacl.cr.yp.to/" rel="noopener noreferrer" target="_blank">NaCL</a> crypto library (imho, we are moving into an asymmetric crypto monoculture relying on the 25519 algorithms).<button class="tc-btn-invisible tc-slider"><sup style="color:#66ff66">2</sup></button> I believe my key will be useful until quantum computing becomes feasible. When PGP is actually functioning, it buys the same verification as my process. The difference is that my process is literally programmable in every major language. It ain't pretty, and it might even be awful, but it works (or, I'm pretty sure it does, lol).</p><hr><h2 class="">Principles:</h2><ul><li>Continually improve this process.</li><li>Build tools which maintain fitting degrees of privacy, anonymity, authenticity, and integrity in my context.</li><li>Enable surprising portability, decentrality, and distributivity.</li><li><a class="tc-tiddlylink tc-tiddlylink-resolves tc-popup-handle tc-popup-absolute" href="Master%2520Ed25519%2520Public%2520Key.html">Master Ed25519 Public Key</a>:<button class="tc-btn-invisible tc-slider"><sup style="color:#66ff66">mk</sup></button><ul><li>5b0addf64aa52a67ac9c59031e7c15919717df39146c2d995f7f0745a2fc8fe2</li></ul></li><li>Current Slave Ed25519 Public Key: <ul><li>5249578e4cdfaec1484f0083df3e8b6e4af0cab0288c8156c31d6e94efe58308</li></ul></li></ul><hr><h2 class="">Focus:</h2><p>Authentication is fairly straightforward.</p><ol><li>Download all three of the following files into the same directory:<ul><li><a href="verify.py">verify.py</a></li><li><a href="index.html.sig">index.html.sig</a></li><li><a href="index.html">index.html</a></li></ul></li><li>Run <a class="tc-tiddlylink tc-tiddlylink-resolves tc-popup-handle tc-popup-absolute" href="verify.py.html">verify.py</a><ul><li>Don't forget to first install <a class="tc-tiddlylink-external" href="https://github.com/pyca/pynacl" rel="noopener noreferrer" target="_blank">PyNaCL</a>; pip is easiest.</li></ul></li></ol><p>Currently, I use SHA256 for the hash integrity check, and I authenticate that checksum with an Ed25519 signature. I've made it simple for you with a script.<button class="tc-btn-invisible tc-slider"><sup style="color:#66ff66">s</sup></button> For reference:</p><pre class="python hljs"><code><span class="hljs-comment">#!/usr/bin/python3</span>

<span class="hljs-keyword">import</span> nacl.encoding
<span class="hljs-keyword">import</span> nacl.signing
<span class="hljs-keyword">import</span> nacl.hash
<span class="hljs-keyword">import</span> binascii

<span class="hljs-comment"># Make sure you've got h0p3's current public signature key below.</span>
verify_key_hex = <span class="hljs-string">"5249578e4cdfaec1484f0083df3e8b6e4af0cab0288c8156c31d6e94efe58308"</span>
verify_key = nacl.signing.VerifyKey(verify_key_hex, encoder=nacl.encoding.HexEncoder)

<span class="hljs-comment"># Read sig file into signed_hash and signature.</span>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">'index.html.sig'</span>, <span class="hljs-string">'r'</span>) <span class="hljs-keyword">as</span> myfile:
    <span class="hljs-comment"># data=myfile.read().replace('\n', '')</span>
    data = myfile.readlines()
signed_hash = data[<span class="hljs-number">0</span>].strip()
signature = binascii.unhexlify(data[<span class="hljs-number">1</span>].strip())

<span class="hljs-comment"># Check the digest of index.html against the signed hash.</span>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">'index.html'</span>, <span class="hljs-string">'r'</span>) <span class="hljs-keyword">as</span> index_file:
    data = index_file.read().encode()
digest = nacl.hash.sha256(data, encoder=nacl.encoding.HexEncoder).decode()
<span class="hljs-keyword">if</span> signed_hash == digest:
    print(<span class="hljs-string">"Integrity Check Passed"</span>)
    <span class="hljs-comment"># Check the validity of the signature because integrity check passed.</span>
    <span class="hljs-keyword">try</span>:
        verify_key.verify(signature)
        print(<span class="hljs-string">"Signature Verified: You possess a bit-for-bit copy of a wiki signed with h0p3's private key!"</span>)
    <span class="hljs-keyword">except</span>:
        print(<span class="hljs-string">"Signature Verification Failed: RUH ROH! If you feel safe, please {Contact} h0p3 over Tor with a fresh account."</span>)
<span class="hljs-keyword">else</span>:
    print(<span class="hljs-string">"Integrity Check Failed: You do not possess a bit-for-bit copy of the wiki, thus signature verification is useless."</span>)</code></pre><p>To be clear, if you trust the signature verification of the checksum, and you trust the checksum of index.html (if the hashes match, you should), then you trust index.html. Thus, your authenticity+integrity verification demonstrates you possess a bit-for-bit copy of the original signed by someone who possesses this wiki's private signing key.</p><p>Please note that the key used to sign this wiki is obviously sitting on my hard drive using <a class="tc-tiddlylink tc-tiddlylink-resolves tc-popup-handle tc-popup-absolute" href="wiki-hash-sign.py.html">wiki-hash-sign.py</a>. I can never guarantee I'm clean or that someone else doesn't possess the current slave private_key. Hence, I have introduced the <a class="tc-tiddlylink tc-tiddlylink-resolves tc-popup-handle tc-popup-absolute" href="Master%2520Ed25519%2520Public%2520Key.html">Master Ed25519 Public Key</a> to afford myself the opportunity to semi-conveniently revoke (and create) this wiki's current slave key from scratch in an emergency on a clean box.</p><hr><h2 class="">Vault:</h2><ul><li>Retired: <ul><li><a class="tc-tiddlylink tc-tiddlylink-resolves tc-popup-handle tc-popup-absolute" href="Retired%253A%25202017.01.14%2520-%2520Cryptographic%2520Verification.html">Retired: 2017.01.14 - Cryptographic Verification</a><button class="tc-btn-invisible tc-slider"><sup style="color:#66ff66">4</sup></button></li><li><a class="tc-tiddlylink tc-tiddlylink-resolves tc-popup-handle tc-popup-absolute" href="2017.09.10%2520-%2520Retired%253A%2520Cryptographic%2520Verification.html">2017.09.10 - Retired: Cryptographic Verification</a></li><li><a class="tc-tiddlylink tc-tiddlylink-resolves tc-popup-handle tc-popup-absolute" href="2018.07.18%2520-%2520Retired%253A%2520Cryptographic%2520Verification.html">2018.07.18 - Retired: Cryptographic Verification</a></li></ul></li></ul><hr><h2 class="">Dreams:</h2><ul><li><a class="tc-tiddlylink tc-tiddlylink-missing" href="Cryptographic%2520Verification%2520PH.html">Cryptographic Verification PH</a></li><li><a class="tc-tiddlylink tc-tiddlylink-resolves tc-popup-handle tc-popup-absolute" href="Vanity%2520Keys.html">Vanity Keys</a></li><li><a class="tc-tiddlylink tc-tiddlylink-resolves tc-popup-handle tc-popup-absolute" href="Invisign.html">Invisign</a></li><li><a class="tc-tiddlylink tc-tiddlylink-resolves tc-popup-handle tc-popup-absolute" href="Nightly%2520Internal%2520Signature.html">Nightly Internal Signature</a></li><li>Eventually, find a reasonable post-quantum crypto system with goldilocks timing.</li></ul><hr><p><span class=" tc-reveal" hidden="true"></span></p><p><sub><span style="color:green">st : </span> I am such a stupid user sometimes; it's a wonder that I let myself have sudo access to my own life at all.</sub></p><p><span class=" tc-reveal" hidden="true"></span></p><p><sub><span style="color:green">f : </span> Find a way. Some ways are better than others, not all ways work for everyone. You still gotta do your best, for swearsy realsies.</sub></p><p><span class=" tc-reveal" hidden="true"></span></p><p><sub><span style="color:green">n : </span> e.g. you can prove that I never said this sentence.</sub></p><p><span class=" tc-reveal" hidden="true"></span></p><p><sub><span style="color:green">2 : </span> I am aware of that maxim: Don't roll your own crypto. This maxim can be applied at different levels in the cryptography process. While I openly admit my shallow understanding of cryptography, I remain convinced this is a safe exception to that maxim. Famous last words, I know. Talk to me about it if it bothers you, please.</sub></p><p><span class=" tc-reveal" hidden="true"></span></p><p><sub><span style="color:green">mk : </span> Please note that this wiki is signed by a revocable slave key; the <a class="tc-tiddlylink tc-tiddlylink-resolves tc-popup-handle tc-popup-absolute" href="Master%2520Ed25519%2520Public%2520Key.html">master key</a> is my just-in-case Mr. Backup Plan for revoking and creating new slave keys on my keyring; it is the best post-pwned ex nihilo identity reconstruction I can muster at the moment.</sub></p><p><span class=" tc-reveal" hidden="true"></span></p><p><sub><span style="color:green">3 : </span> Not that it would ever matter in this case, but I'm not naive enough to think rubber-hose cryptanalysis isn't the first step a state-actor would use against me. Regardless, I still think cryptography is immensely useful to us.</sub></p><p><span class=" tc-reveal" hidden="true"></span></p><p><sub><span style="color:green">s : </span> You can either find/write your own tool or use mine to verify the signature.</sub></p><p><span class=" tc-reveal" hidden="true"></span></p><p><sub><span style="color:green">4 : </span>  I believe this was the first official 'Retired:' I ever made on this wiki. For now, I break with my {<a class="tc-tiddlylink tc-tiddlylink-resolves tc-popup-handle tc-popup-absolute" href="Principles%2520of%2520Programming%2520Myself.html">Principles</a>} conventions to preserve the ornament for myself in the code. Obviously, I didn't know what I wanted, but I figured it out.</sub></p></div>



</div>

</p>
</section>
</body>
</html>
